<!DOCTYPE html>
<html>

<head>
    <title>quiz about javaScript!</title>
    <style>
        div {
            text-align: center;
        }

        #options {
            margin-bottom: 5px;
            padding: 20px;
            background-color: rgb(69, 104, 69);
            height: 40px;
            width: 200px;
        }

        button {
            background-color: purple;
            color: white;
            height: 30px;
        }

        #timer {
            float: right;
            padding-right: 50px;
        }

        a {
            float: left;
            padding-left: 50px;
        }
    </style>
</head>

<body>
    <a href="">View Highscores</a>
    <p id="timer">Timer</p>
    <div id="container">
        <h1>JavaScript Quiz!</h1>
        <p id="heading4">Enter the button to start your quiz. <br>
            Try to answer the following code-related questions within the time<br>
            limit. Keep in mind the incorrect answer will penalize<br>
            your score time by 10 seconds !</p>
        <button type="button" id="start-quiz">start you quiz</button>
    </div>    
    <div id="question-container"></div>
    <!-- //call js file of questions array. -->
    <script src="questions.js"></script>
    
    <script>
    var startButton = document.querySelector("#start-quiz");
    var heading4 = document.querySelector('#heading4');
    var j = 0;
    var totalScore = 0;
    var time = 0;
    var checkData;
    var answer;
    var scores = 0;
    
    //check answers
    function checkAnswers(){
    if (checkData === answer) {
        console.log("right answer");
        scores++;
    }
    else {
        console.log("wrong answer");
    }
    if (j < questions.length-1) {
        j++;
        nextQuestion(); 
    }
    else {
        alert("your quiz is finished and the total score is : "+scores);
    }
    }

    //reload the page and get the new question.
    function nextQuestion() {
        document.getElementById("question-container").innerHTML = "";
        event.preventDefault();
        questionAndChoices();
       
    }

    //function to add questions and answers
    function questionAndChoices() {
        var title = questions[j].title;
         answer = questions[j].answer;
        //create a questions
        var question = document.createElement('h3');
        question.textContent = title;
        document.getElementById("question-container").appendChild(question);
        
        // adding the choices 
        for (var i = 0; i < (questions[j].choices.length); i++) {
            var choices = questions[j].choices[i];
            var choicesList = document.createElement("button");
            var linebreak = document.createElement("br");
            choicesList.textContent = choices;
            choicesList.setAttribute("id", "options");
            choicesList.setAttribute("value", choices);
            // console.log(choicesList.getAttribute("data-letter"));
            document.getElementById("question-container").appendChild(choicesList);
            document.getElementById("question-container").appendChild(linebreak);
        }
        
    }

    //click on start button       
    startButton.addEventListener("click", function () {
        startButton.style.display = "none";
        heading4.style.display = "none";
        nextQuestion();
    })
    
    //click on choices
    var theParent = document.querySelector("#question-container");
    theParent.addEventListener("click", doSomething, false) 
    function doSomething(e) {
        if(e.target !== e.currentTarget) {
            checkData = e.target.value;
            checkAnswers();  
        }           
    }  


    </script>  
    </body>
</html>